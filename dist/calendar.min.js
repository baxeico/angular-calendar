!function(){"use strict";var a=angular.module("jh.calendar",[]);a.directive("calendar",["$locale",function(a){return{restrict:"E",templateUrl:"calendar.tmpl",scope:{"for":"=",options:"=",onClick:"&"},link:function(b){b.$watch("for",function(){var d=b["for"],e=d instanceof Date&&new Date(d.getTime())||new Date;e.setDate(1);var f=(e.getMonth()+1)%12;b.month=a.DATETIME_FORMATS.MONTH[e.getMonth()],b.year=e.getFullYear(),b.days=a.DATETIME_FORMATS.DAY,b.weeks=[{days:[]}];var g=b.weeks[0];do 0===e.getDay()&&1!==e.getDate()&&(g={days:[]},b.weeks.push(g)),g.days[e.getDay()]=e.getDate(),e.setDate(e.getDate()+1);while(e.getMonth()!==f);for(;g.days.length<7;)g.days.push(void 0);c=d instanceof Date?d.getDate():1});var c=0;b.clickDay=function(a){void 0!==a&&(c=a,b["for"].setDate(a),b.onClick())},b.isSelected=function(a){return c===a}}}}]);var b=['<div class="calendar">','<div class="header">{{month}} {{year}}</div>','<div class="week-header">','<span ng-repeat="day in days track by $index" class="day-name" ng-class="{first: $first, last: $last}">{{day}}</span>',"</div>",'<div class="calendar-body">','<div ng-repeat="week in weeks track by $index" class="week" ng-class="{first: $first, last: $last, odd: $odd, even: $even}">','<span ng-repeat="day in week.days track by $index" class="day" ng-class="{first: $first, last: $last, active: isSelected(day)}" ng-click="clickDay(day)">{{day}}&nbsp;</span>',"</div>","</div>","</div>"].join("\n");a.run(["$templateCache",function(a){a.put("calendar.tmpl",b)}])}();