!function(){"use strict";var a=angular.module("jh.calendar",[]);a.directive("calendar",function(a){return{restrict:"E",templateUrl:"calendar.tmpl",scope:{"for":"=",options:"=",click:"="},link:function(b){b.$watch("for",function(){var c=b["for"]&&new Date(b["for"].getTime())||new Date;c.setDate(1);var d=(c.getMonth()+1)%12;b.month=a.DATETIME_FORMATS.MONTH[c.getMonth()],b.year=c.getFullYear(),b.days=a.DATETIME_FORMATS.DAY,b.weeks=[{days:[]}];var e=b.weeks[0];do 0===c.getDay()&&1!==c.getDate()&&(e={days:[]},b.weeks.push(e)),e.days[c.getDay()]=c.getDate(),c.setDate(c.getDate()+1);while(c.getMonth()!==d);for(;e.days.length<7;)e.days.push(void 0)})}}});var b=['<div class="calendar">','<div class="header">{{month}} {{year}}</div>','<div class="week-header">','<span ng-repeat="day in days track by $index" class="day-name" ng-class="{first: $first, last: $last}">{{day}}</span>',"</div>",'<div class="calendar-body">','<div ng-repeat="week in weeks track by $index" class="week" ng-class="{first: $first, last: $last}">','<span ng-repeat="day in week.days track by $index" class="day" ng-class="{first: $first, last: $last}" ng-click="day != undefined && click(day)">{{day}}&nbsp;</span>',"</div>","</div>","</div>"].join("\n");a.run(["$templateCache",function(a){a.put("calendar.tmpl",b)}])}();